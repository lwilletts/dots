#!/bin/sh
#
# winel

usage() {
    base=$(basename "$0")

    cat >&2 << EOF
Usage:
    $base
EOF

    test $# -eq 0 || exit "$1"
}

main() {
    case "$1" in
        tribes)
            GAMEDIR="$GAME1/Tribes/2017_T1Basic"
            cd "$GAMEDIR" || {
                printf '%s\n' "$GAMEDIR not found!"
                return 1
            }

            WINEDEBUG=-all WINEARCH=win64 \
            WINEPREFIX=~/.wine/prefixes/tribes WINEESYNC=1 \
            wine "$GAMEDIR/Tribes.exe" > /dev/null 2>&1 &
            ;;
        outerworlds)
            GAMEDIR="$GAME2/The Outer Worlds"
            cd "$GAMEDIR" || {
                printf '%s\n' "$GAMEDIR not found!"
                return 1
            }

            WINEDEBUG=-all WINEARCH=win64 \
            WINEPREFIX=~/.wine/prefixes/theouterworlds WINEESYNC=1 MANGOHUD=1 \
            wine "$GAMEDIR/TheOuterWorlds.exe" > /dev/null 2>&1 &
            ;;
    esac
}

main "$@"
