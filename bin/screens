#!/bin/sh
#
# screens

resetbar() {
    pkill bars
    bars
}

main() {
    . fwmrc
    wmgaps

    SEC="HDMI-A-2"
    LAYOUTDIR="$HOME/.screenlayout"

    case "$1" in
        default)
            "$LAYOUTDIR/default.sh"

            resetbar
            ;;
        pri)
            PRI="$(lsm -p)"

            for wid in $(listwindows "$SEC"); do
                move center "$wid" "$PRI"
            done

            "$LAYOUTDIR/pri.sh"

            for wid in $(listwindows "$PRI"); do
                wmv 0 -480 "$wid"
            done

            resetbar
            ;;
        *)
            case "$(hostname)" in
                "fyriousa")
                    "$LAYOUTDIR/default.sh"

                    for wid in $(listwindows "$PRI"); do
                        wmv 0 480 "$wid"
                    done

                    resetbar
                    ;;
                "inferno")
                    pkill bars
                    bars
                    ;;
            esac
            ;;
    esac
}

main "$@"
