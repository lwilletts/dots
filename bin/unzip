#!/bin/sh
#
# I'm mad and this is the only way to smother my rage

test $# -eq 0 && {
    printf '%s\n' "Please provide a file to extract."
    exit 1
}

FILE=$1

test -f $FILE && {
    case $FILE in
        *.zip|*.7z) unzip "$FILE" -d $DIR ;;
        *.tar.bz2)  tar xjf "$FILE"       ;;
        *.tar.gz)   tar xf "$FILE"        ;;
        *.tar.xz)   tar xf "$FILE"        ;;
        *.tbz2)     tar xjf "$FILE"       ;;
        *.bz2)      bzip2 "$FILE"         ;;
        *.rar)      unrar e "$FILE"       ;;
        *.tar)      tar xf "$FILE"        ;;
        *.tgz)      tar xzf "$FILE"       ;;
        *.gz)       gunzip "$FILE"        ;;
        *.Z)        uncompress "$FILE"    ;;
        *)
            printf '%s\n' "Unrecognized archival format."
            exit 3
            ;;
    esac

    test $? -eq 0 && rm -f "$FILE"
} || {
    printf '%s\n' "'$FILE' is not a valid file."
    exit 2
}
