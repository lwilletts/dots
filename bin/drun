#!/bin/zsh

. fwmrc
wmgaps
wmcolours

FONT=$(awk '/font/ {print $3}' < ~/.Xresources | cut -d',' -f 1)

printf '%s\n' "$PATH" | sed 's/:/\n/g' | while read -r dir; do
    printf '%s\n' "$(find -L $dir/* -type f -executable)" | \
        rev | cut -d/ -f 1 | rev
done | sort -u | \
dmenu -name "drun" -f -w 600 -h 20 -x 140 -y 1412 -s 0 -fn "$FONT" -p "Run >" \
-nf "#$ACTIVE" -sf "#$URGENT" -nb "#$INACTIVE" -sb "#$INACTIVE" -bc "#$ACTIVE" \
-bw 1 \
| ${SHELL:-"/bin/sh"} &
