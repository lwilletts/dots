# menus & mouse
{mod1, mod2} + Return
    urxvtc -g 85x22
{mod1, mod2} + shift + Return
    urxvtc -cd "$(mpvc -f "%path%" | rev | cut -d\/ -f 2- | rev)" -g 85x22
mod1 + {d,s,w,shift + w,o}
    {drun,sshmenu -c,wmenu -c,wmenu -c all,lmenu -c}
mod1 + {@button1,@button3}
    wattr o $(pfw) || chwso -r $(pfw); {xmmv,xmrs}
mod1 + {button4,button5}
    {chwso -r,chwso -l} $(pfw)
{~button3,button10}
    {under "cmdmenu",cmdmenu}

# sys
mod4 + shift + l
    lock
mod1 + shift + r
    bspc wm -r; pkill -USR1 -x sxhkd
mod1 + shift + BackSpace
    pkill xinit

# window management
mod1 + {_,shift + }q
    bspc node -{c,k}

# focus and swap in direction
mod1 + {_,shift + }{h,j,k,l}
    bspc node -{f,s} {west,south,north,east}
# focus the next/previous node in the current desktop
# mod1 + {_,shift + }c
#     bspc node -f {next,prev}.local
# focus the node for the given path jump
# mod1 + {p,b,shift + p,shift + b}
#     bspc node -f @{parent,brother,first,second}

# window state
mod1 + {t,shift + t,a,f}
    bspc node -t {tiled,pseudo_tiled,floating,fullscreen}


# preselect window positioning
mod1 + ctrl + {h,j,k,l}
    bspc node -p {west,south,north,east}
# preselect the ratio
mod1 + ctrl + {1-9}
    bspc node -o 0.{1-9}
mod1 + ctrl + space
    bspc node -p cancel

# resize
mod1 + r: {h,j,k,l}
    rsz {west,south,north,east}
mod1 + r: Escape
    pkill -ALRM sxhkd

# workspaces
mod1 + {_,shift + }{1-8}
    bspc {desktop -f,node -d} {1-8}
# focus the next/previous desktop in the current monitor
mod1 + bracket{left,right}
    bspc desktop -f {prev,next}.local
# focus the last node/desktop
mod1 + {grave,Tab}
    bspc {node,desktop} -f last

# groups
# mod4 + {_, shift + }{1-8}
#     group {-t,-a} {1-8} $(pfw)
# mod4 + shift + c
#     group -d $(pfw)

# monocle mode
mod1 + m
    bspc desktop -l next

# send the newest marked node to the newest preselected node
# mod4 + y
#     bspc node newest.marked.local -n newest.!automatic.local

# swap the current node and the biggest node
mod4 + g
    bspc node -s biggest

#
# state/flags
#

# set the node flags
mod4 + ctrl + {m,x,y,z}
    bspc node -g {marked,locked,sticky,private}


# focus the older or newer node in the focus history
mod4 + {o,i}
    bspc wm -h off; \
    bspc node {older,newer} -f; \
    bspc wm -h on

# move a floating window
mod4 + {Left,Down,Up,Right}
    bspc node -v {-20 0,0 20,0 -20,20 0}

# media
{XF86AudioMute, XF86AudioLowerVolume, XF86AudioRaiseVolume}
    volctrl {toggle,dec 3,inc 3}
mod1 + {comma,period,space,slash,9,0}
    mpvc {prev,next,toggle,play $,volume -5,volume +5} -S /tmp/vidsocket -q
mod4 + {s,d,9,0}
    mpvc volume {-5,+5,-5,+5} -q
mod4 + {h,j,k,l}
    mpvc seek {-5s,-30s,30s,5s} -q
mod4 + {space,Tab,n,shift + Tab,p,z,r,c,BackSpace}
    mpvc {toggle,next,next,prev,prev,shuffle,single,clear,remove current} -q
mod4 + a
    fd . ~/usr/mus -e mp3 -e flac -e wav -e ogg -E '*.m3u8' -E '*.log' \
    -E '*.cue' -E 'soundtracks' | shuf | shuf | mpvc add -q
mod1 + v
    fd . ~/usr/vid/yt/music | shuf | shuf | mpvc add -S /tmp/vidsocket -q

# shot
Print
    shot
shift + Print
    shot "$(pfw)"

# vim: set ft=sxhkdrc :
